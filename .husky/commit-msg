#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

COMMIT_MESSAGE_FILE=$1
COMMIT_MESSAGE=$(cat "$COMMIT_MESSAGE_FILE")

# Adjust the commit pattern to allow for multi-line commit messages
COMMIT_PATTERN="^:[a-zA-Z]+: .+"

echo "â¤ï¸â€ğŸ©¹ Commit Message: $COMMIT_MESSAGE"

if [[ ! $COMMIT_MESSAGE =~ $COMMIT_PATTERN ]]; then
  echo "ğŸ’• Please use gitmoji in your commit message"
  echo "ğŸ’• Commit message should follow the pattern: ^:[a-zA-Z]+: .+"
  exit 1
fi

echo "ğŸ”† Thanks for keeping the convention ğŸ”†"
exit 0
